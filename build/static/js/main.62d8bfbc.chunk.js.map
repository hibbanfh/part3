{"version":3,"sources":["components/Person.js","components/Filter.js","services/person.js","App.js","index.js"],"names":["Person","person","deleteToggle","name","number","onClick","Filter","show","handle","value","onChange","baseUrl","axios","get","then","response","data","newObj","post","id","delete","put","App","useState","setPerson","newName","setNewName","newNumber","setNewNumber","setShow","notification","setNotification","errorMsg","setErrorMsg","useEffect","personServices","initial","setToShow","filter","p","match","RegExp","Notification","message","className","Error","e","target","onSubmit","preventDefault","objPerson","checking","some","find","available","window","confirm","newNum","map","setTimeout","returnedPerson","concat","type","key","user","console","log","deletedPerson","location","reload","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.62d8bfbc.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, deleteToggle}) => {\r\n    return(\r\n        <li>{person.name} {person.number} <button onClick={deleteToggle}>delete</button></li>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Filter = ({show, handle}) => {\r\n    return (\r\n        <div>\r\n            filter shown with: <input value={show} onChange={handle} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/person'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObj => {\r\n    const request = axios.post(baseUrl, newObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObj) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteObj = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deleteObj, update }","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport personServices from './services/person'\n\nconst App = () => {\n\tconst [person, setPerson] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [show, setShow] = useState('')\n\tconst [notification, setNotification] = useState(null)\n\tconst [errorMsg, setErrorMsg] = useState(null)\n\n\tuseEffect(() => {\n\t\tpersonServices\n\t\t\t.getAll()\n\t\t\t.then(initial => {\n\t\t\t\tsetPerson(initial)\n\t\t\t})\n\t}, [])\n\n\tconst addPerson = (e) => {\n\t\te.preventDefault()\n\t\tconst objPerson = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber\n\t\t}\n\t\tconst checking = person.some(p => p.name === newName)\n\t\tconst p = person.find(p => p.name === newName)\n\t\tconst available = { ...p, number: newNumber }\n\n\t\tif(!checking) {\n\t\t\tpersonServices\n\t\t\t\t.create(objPerson)\n\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\tsetPerson(person.concat(returnedPerson))\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t})\n\t\t\tsetNotification(`${newName} has been added to the contact`)\n\t\t} else {\n\t\t\tif(window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n\t\t\t\tpersonServices\n\t\t\t\t.update(available.id ,available)\n\t\t\t\t.then(newNum => {\n\t\t\t\t\tsetPerson(person.map(p => p.name !== newName ? p : newNum))\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tsetNotification(`Updated ${newName}`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNotification(null)\n\t\t\t\t}, 5000)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst deletePerson = id => {\n\t\tconst user = person.find(p => p.id === id)\n\t\tconsole.log(user.id)\n\n\t\tif(window.confirm(`Delete ${user.name} ?`)) {\n\t\t\tpersonServices\n\t\t\t\t.deleteObj(user.id)\n\t\t\t\t.then(deletedPerson => {\n\t\t\t\t\tconsole.log(deletedPerson)\n\t\t\t\t\twindow.location.reload()\n\t\t\t\t})\n\t\t\tsetErrorMsg(`Information of ${user.name} has already been removed from the server`)\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetErrorMsg(null)\n\t\t\t}, 5000)\n\t\t}\n\t}\n\n\tconst setToShow = person.filter(p => p.name.match(new RegExp(show, 'i')))\n\n\tconst handleNameChange = (e) => setNewName(e.target.value)\n\n\tconst handleNumberChange = (e) => setNewNumber(e.target.value)\n\n\tconst handleShow = (e) => setShow(e.target.value)\n\n\tconst Notification = ({ message }) => {\n\t\tif(message === null) {\n\t\t\treturn null\n\t\t}\n\t\n\t\treturn (\n\t\t\t<div className='notification'>\n\t\t\t\t{message}\n\t\t\t</div>\n\t\t)\n\t}\n\t\n\tconst Error = ({ message }) => {\n\t\tif(message === null) {\n\t\t\treturn null\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='error'>\n\t\t\t\t{message}\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Phonebook</h1>\n\t\t\t<Error message={errorMsg} />\n\t\t\t<Notification message={notification} />\n\t\t\t<Filter show={show} handle={handleShow} />\n\t\t\t<h2>Add a new</h2>\n\t\t\t<form onSubmit={addPerson}>\n\t\t\t\t<div>\n\t\t\t\t\tname: <input value={newName} onChange={handleNameChange} />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tnumber: <input value={newNumber} onChange={handleNumberChange} />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<ul>\n\t\t\t\t{setToShow.map(p => <Person key={p.name} person={p} deleteToggle={() => deletePerson(p.id) }/>)}\n\t\t\t</ul>\n\t\t</div>\n\t)\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n  );\n"],"sourceRoot":""}